[gd_scene load_steps=26 format=3 uid="uid://iup832stpqv3"]

[ext_resource type="Texture2D" uid="uid://bklkkkqxian62" path="res://assets/indev/temp_player.png" id="1_23wsg"]
[ext_resource type="Script" path="res://src/objects/player/player.gd" id="1_vdg4c"]
[ext_resource type="Texture2D" uid="uid://bixua3tuje28c" path="res://assets/indev/temp_player_attack.png" id="2_i6klt"]
[ext_resource type="PackedScene" uid="uid://cw1lk4a1brvrr" path="res://src/objects/hurtable/hurtable.tscn" id="2_o5oul"]
[ext_resource type="PackedScene" uid="uid://22ot6f12mdrf" path="res://src/spells/waterball/waterball.tscn" id="2_omirb"]
[ext_resource type="Script" path="res://src/spells/spell.gd" id="3_tacvu"]
[ext_resource type="PackedScene" uid="uid://cjyamonvs82b8" path="res://src/objects/walker/walker.tscn" id="4_sla16"]
[ext_resource type="Texture2D" uid="uid://lsl45lyyra2u" path="res://assets/indev/temp_staff.png" id="4_tgxnk"]

[sub_resource type="Resource" id="Resource_ynq8y"]
script = ExtResource("3_tacvu")
name = "Waterball"
object = ExtResource("2_omirb")

[sub_resource type="Resource" id="Resource_o3joa"]
script = ExtResource("3_tacvu")
name = "Spawn Enemy"
object = ExtResource("4_sla16")

[sub_resource type="Animation" id="Animation_e0ckj"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Staff:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0.999999, 46)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Staff:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.45795]
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Staff:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.999999, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Staff:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(46, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_8o87f"]
resource_name = "attack"
length = 1.1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hurt"
}]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Staff:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(2, 2, 2, 2),
"points": PackedFloat32Array(0.999999, 0, 0, 0.05, -3.33333, -19, -0.0960464, -40, 0.0829156, 34.5315, 71, -0.0333041, -1.54453, 0.215627, 10, 0.999999, -0.05, 11.6667, 0, 0),
"times": PackedFloat32Array(0, 0.3, 0.5, 0.8)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Staff:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(2, 2, 2, 2),
"points": PackedFloat32Array(46, 0, 0, 0.05, -24.1667, -99, -0.153297, -11, 0.0331837, 2.38114, 70, -0.0333333, -9.66667, 0.05, 14.5, 46, -0.05, 4, 0, 0),
"times": PackedFloat32Array(0, 0.3, 0.5, 0.8)
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Staff:rotation")
tracks/3/interp = 4
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.3, 0.5, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [1.50945, 6.13863, 2.12743, 1.50945]
}

[sub_resource type="Animation" id="Animation_ivgb2"]
resource_name = "idle"
length = 5.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Staff:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5, 3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0.999999, 46), Vector2(1, 33), Vector2(-8, 44)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Staff:rotation")
tracks/1/interp = 4
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.5, 3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.45795, 1.54151, 1.604]
}

[sub_resource type="Animation" id="Animation_ehjml"]
resource_name = "spell"
length = 1.1
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.526115),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"cast_spell"
}]
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Staff:position:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(2, 0, 0, 0),
"points": PackedFloat32Array(0.999999, 0, 0, 0.17628, 1.01328e-06, -46, -0.25, 0, 0.25, 0, 87, -0.25, 0, 0.370626, -2.00001, -1.01328e-06, -0.05, 11.6667, 0, 0),
"times": PackedFloat32Array(0, 0.3, 0.6, 1.02939)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Staff:position:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(2, 0, 0, 0),
"points": PackedFloat32Array(46, 0, 0, 0.178456, -4, 21, -0.0105533, -2, 0.25, 0, 16, -0.25, 0, 0.329276, 1, 45, -0.0425414, -17, 0, 0),
"times": PackedFloat32Array(0, 0.3, 0.6, 1.02939)
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Staff:rotation")
tracks/3/interp = 4
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.3, 0.6, 1.02622),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [1.50945, 1.57079, 1.27497, 1.50945]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5tmlx"]
_data = {
"RESET": SubResource("Animation_e0ckj"),
"attack": SubResource("Animation_8o87f"),
"idle": SubResource("Animation_ivgb2"),
"spell": SubResource("Animation_ehjml")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_pc5qr"]
atlas = ExtResource("2_i6klt")
region = Rect2(0, 0, 48, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_k0crr"]
atlas = ExtResource("2_i6klt")
region = Rect2(0, 16, 48, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_dse0o"]
atlas = ExtResource("2_i6klt")
region = Rect2(0, 32, 48, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_usv0a"]
atlas = ExtResource("2_i6klt")
region = Rect2(0, 48, 48, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_o1wbk"]
atlas = ExtResource("2_i6klt")
region = Rect2(0, 64, 48, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_agcxr"]
atlas = ExtResource("2_i6klt")
region = Rect2(0, 80, 48, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_015qa"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pc5qr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k0crr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dse0o")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_usv0a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o1wbk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_agcxr")
}],
"loop": false,
"name": &"attack",
"speed": 30.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_23wsg")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_lsya3"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_tgxnk")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_wjoxv"]
radius = 32.1403

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jv56u"]
size = Vector2(202, 180)

[node name="Player" type="Area2D" groups=["Player"]]
collision_mask = 0
monitoring = false
script = ExtResource("1_vdg4c")
spells = Array[ExtResource("3_tacvu")]([SubResource("Resource_ynq8y"), SubResource("Resource_o3joa")])

[node name="Hurtable" parent="." instance=ExtResource("2_o5oul")]
unique_name_in_owner = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
"": SubResource("AnimationLibrary_5tmlx")
}
autoplay = "idle"
next/idle = &"idle"

[node name="Camera2D" type="Camera2D" parent="."]
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.1
drag_top_margin = 0.1
drag_right_margin = 0.1
drag_bottom_margin = 0.1

[node name="Sprite2D" type="AnimatedSprite2D" parent="."]
scale = Vector2(5.25, 5.25)
sprite_frames = SubResource("SpriteFrames_015qa")
autoplay = "default"

[node name="Staff" type="AnimatedSprite2D" parent="."]
position = Vector2(0.999999, 46)
rotation = 1.45795
scale = Vector2(3.625, 3.625)
sprite_frames = SubResource("SpriteFrames_lsya3")
autoplay = "default"

[node name="HitBox" type="CollisionShape2D" parent="."]
visible = false
shape = SubResource("CircleShape2D_wjoxv")

[node name="HurtBox" type="Area2D" parent="."]
unique_name_in_owner = true
collision_layer = 0
collision_mask = 2
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtBox"]
visible = false
position = Vector2(49, 0)
shape = SubResource("RectangleShape2D_jv56u")
debug_color = Color(0.928424, 0.0568346, 0.640736, 0.42)

[node name="SpellCastPosition" type="Marker2D" parent="."]
unique_name_in_owner = true
position = Vector2(138, 0)
